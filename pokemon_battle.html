<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="main-container">
      <!--FIENDE-->
      <div class="enemy-health-container">
        <div class="healthbar-container">
          <div class="healthbar enemy-health"></div>
          <div class="text-container">
            <p id="enemy-name-txt">Fiendens navn</p>
            <p id="enemy-healt-txt"></p>
          </div>
        </div>
      </div>

      <!--MIN POKEMON-->
      <div class="my-pokemon-health-container">
        <div class="healthbar-container">
          <div class="healthbar my-pokemon-health"></div>
          <div class="text-container">
            <p id="my-pokemon-name">Min pokemons navn</p>
            <p id="my-pokemon-health-txt"></p>
          </div>
        </div>
      </div>

      <!-- Bildenontainere fienden -->
      <div class="enemy-container">
        <div class="img-container enemy"></div>
      </div>
      <!-- Bildecontainer for min pokemon-->
      <div class="img-container my-pokemon"></div>
    </div>
    <script>
      let enemyArray = [];
      let myPokemonObject = {};

      async function fetchRandomPokemon() {
        console.log("Inne i fetchRandomPokemon");
        try {
          const randomPokemonData = [];
          for (let i = 0; i < 3; i++) {
            const randomPokemonId = Math.floor(Math.random() * 400) + 1;
            const randomPokemonRequest = await fetch(
              "https://pokeapi.co/api/v2/pokemon/" + randomPokemonId
            );
            const randomPokemon = await randomPokemonRequest.json();
            randomPokemonData.push(randomPokemon);
          }

          return randomPokemonData;

          console.log("fetchRandomPokemon:", randomPokemonData);
        } catch (error) {
          console.error("Feil ved innlastning av Random Pokemon!"), error;
        }
      }

      async function addPokemonName() {
        try {
          const randomPokemonData = await fetchRandomPokemon();
          //Fiendens navn og type
          document.getElementById("enemy-name-txt").innerHTML =
            randomPokemonData[0].name;
          /*document.getElementById("enemy-healt-txt").innerHTML =
            pokemonType[0].type;*/
          //min pokemons navn og type
          document.getElementById("my-pokemon-name").innerHTML =
            randomPokemonData[1].name;
          /*document.getElementById("my-healt-txt").innerHTML =
            pokemonType[1].type;*/

          const enemyName = await fetchRandomPokemon[randomPokemonData[0].name];
          const mypokemonName = await fetchRandomPokemon[
            randomPokemonData[1].name
          ];
        } catch {
          console.error("Feil ved oppdatering av navn pÃ¥ Pokemon");
        }
      }
      addPokemonName();

      const enemy = fetchRandomPokemonName(3);
      const myPokemon = fetchRandomPokemonName(4);
    </script>
  </body>
</html>
